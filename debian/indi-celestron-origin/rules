#!/usr/bin/make -f

include /usr/share/cdbs/1/rules/debhelper.mk
include /usr/share/cdbs/1/class/cmake.mk

DEB_CMAKE_INSTALL_PREFIX := /usr
DEB_CMAKE_EXTRA_FLAGS := -DCMAKE_BUILD_TYPE=Release

export DEB_BUILD_MAINT_OPTIONS = hardening=+format,+fortify,+stackprotector,+relro,-pie,-bindnow

export DEB_CFLAGS_MAINT_APPEND = -Wall -fno-strict-aliasing
export DEB_CXXFLAGS_MAINT_APPEND = -Wall -fno-strict-aliasing

DEB_CMAKE_EXTRA_FLAGS += -DCMAKE_INSTALL_RPATH_USE_LINK_PATH=ON
DEB_CMAKE_EXTRA_FLAGS += -DCMAKE_BUILD_TYPE=RelWithDebInfo

DEB_SRCDIR=indi-celestron-origin
DEB_DH_SHLIBDEPS_ARGS=-u--ignore-missing-info
